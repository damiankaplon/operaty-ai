ktor {
  deployment {
    port = 8080
    port = ${?PORT}
  }
  application {
    modules = [io.cruvelo.operaty.ApplicationKt.module]
  }
}

app {
  chatGpt {
    host: api.openai.com
    apiKey: ${?CHAT_GPT_API_KEY}
    evals {
      roadReport {
        name: "road_report_eval"
        name: ${?CHAT_GPT_ROAD_REPORT_EVAL_ID}
        pythonGraderSrc: "grader/python_output_grader.py"
        pythonGraderSrc: ${?CHAT_GPT_ROAD_REPORT_PYTHON_GRADER_SRC}
      }
    }
  }
  db {
    jdbcUrl = "jdbc:postgresql://localhost:5432/operaty_ai?serverTimezone=UTC"
    jdbcUrl = ${?APP_OPERATY_AI_DB_URL}
    user = "operaty_ai"
    user = ${?APP_OPERATY_AI_DB_USER}
    password = "operaty_ai"
    password = ${?APP_OPERATY_AI_DB_PASS}
    schema = "public"
    schema = ${?APP_OPERATY_AI_DB_SCHEMA}
  }
}
